{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst iframe = document.querySelector('iframe');\nconst player = new Vimeo.Player(iframe);\n\nconst KEY_SECONDS = 'videoplayer-current-time';\nconst UPDATE_TIME = 1000;\n\nconst savePlayback = () => {\n  player\n    .getCurrentTime()\n    .then(seconds => {\n      localStorage.setItem(KEY_SECONDS, seconds);\n    })\n    .catch(err => {\n      console.error(err);\n    });\n};\n\nconst throttlePlayback = throttle(savePlayback, UPDATE_TIME);\nplayer.on('timeupdate', () => {\n  throttlePlayback();\n});\n\nconst getPlayback = () => {\n  const savedTime = localStorage.getItem(KEY_SECONDS) ?? 0;\n  player\n    .setCurrentTime(savedTime)\n    .then(() => {\n      // player.play();\n    })\n    .catch(err => {\n      console.error('Error playback:', err);\n    });\n};\n\ngetPlayback();\n"],"names":["iframe","player","KEY_SECONDS","UPDATE_TIME","savePlayback","seconds","err","throttlePlayback","throttle","getPlayback","savedTime"],"mappings":"wIAEA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAS,IAAI,MAAM,OAAOD,CAAM,EAEhCE,EAAc,2BACdC,EAAc,IAEdC,EAAe,IAAM,CACzBH,EACG,eAAgB,EAChB,KAAKI,GAAW,CACf,aAAa,QAAQH,EAAaG,CAAO,CAC/C,CAAK,EACA,MAAMC,GAAO,CACZ,QAAQ,MAAMA,CAAG,CACvB,CAAK,CACL,EAEMC,EAAmBC,EAASJ,EAAcD,CAAW,EAC3DF,EAAO,GAAG,aAAc,IAAM,CAC5BM,GACF,CAAC,EAED,MAAME,EAAc,IAAM,CACxB,MAAMC,EAAY,aAAa,QAAQR,CAAW,GAAK,EACvDD,EACG,eAAeS,CAAS,EACxB,KAAK,IAAM,CAEhB,CAAK,EACA,MAAMJ,GAAO,CACZ,QAAQ,MAAM,kBAAmBA,CAAG,CAC1C,CAAK,CACL,EAEAG,EAAa"}